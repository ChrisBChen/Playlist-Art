<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Playlist Series Cover Art Generator</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="app-header">
      <div>
        <h1>Playlist Series Cover Art Generator</h1>
        <p>Create deterministic Swiss-style playlist cover series for Spotify &amp; more.</p>
      </div>
      <div class="header-actions">
        <button id="download-theme" class="secondary">Download Theme JSON</button>
        <label class="file-button">
          Import Theme JSON
          <input id="import-theme" type="file" accept="application/json" />
        </label>
      </div>
    </header>

    <main class="app-layout">
      <section class="panel panel-controls">
        <div class="section">
          <h2>Series Setup</h2>
          <div class="field">
            <label for="series-seed">Series Seed</label>
            <input id="series-seed" type="text" value="workout-series-2026" />
          </div>
          <div class="field">
            <label for="cover-count">Number of Covers</label>
            <input id="cover-count" type="number" min="1" max="24" value="4" />
          </div>
          <div class="field">
            <label>Variation Mode</label>
            <div class="radio-row">
              <label><input type="radio" name="variation-mode" value="colors" checked /> Vary Colors</label>
              <label><input type="radio" name="variation-mode" value="shapes" /> Vary Shapes</label>
            </div>
          </div>
          <div class="field">
            <label for="background-color">Background Color</label>
            <input id="background-color" type="color" value="#111111" />
          </div>
          <div class="field">
            <label>Export Formats</label>
            <div class="toggle-row">
              <label><input id="export-png" type="checkbox" checked disabled /> PNG (always)</label>
              <label><input id="export-jpg" type="checkbox" /> JPG</label>
            </div>
          </div>
          <div class="field">
            <label>Canvas Export Size</label>
            <div class="static-label">3000 × 3000 px</div>
          </div>
        </div>

        <div class="section">
          <h2>Theme Suggestions</h2>
          <button id="generate-themes" class="primary">Generate Theme Suggestions</button>
          <div id="theme-suggestions" class="theme-grid"></div>
        </div>

        <div class="section">
          <h2>Theme Finalization</h2>
          <div class="field">
            <label for="pattern-mode">Pattern Mode</label>
            <select id="pattern-mode">
              <option value="tiled">Tiled Grid</option>
              <option value="offset">Offset Grid</option>
              <option value="diagonal">Diagonal Drift</option>
              <option value="radial">Radial Scatter</option>
              <option value="isometric">Isometric-ish</option>
              <option value="border">Border Band</option>
            </select>
          </div>
          <div id="vary-colors-controls" class="variation-controls">
            <div class="field">
              <label for="primary-shape">Primary Shape</label>
              <select id="primary-shape"></select>
            </div>
            <div class="field">
              <label for="icon-mix">Secondary Shape / Icon Mix</label>
              <input id="icon-mix" type="range" min="0" max="100" value="25" />
              <span id="icon-mix-value" class="range-value">25%</span>
            </div>
            <div class="field">
              <label>Icon Categories</label>
              <div id="icon-categories" class="chip-row"></div>
            </div>
          </div>
          <div id="vary-shapes-controls" class="variation-controls hidden">
            <div class="field">
              <label for="palette-select">Palette</label>
              <select id="palette-select"></select>
            </div>
          </div>
          <div class="field">
            <label for="density">Density</label>
            <input id="density" type="range" min="10" max="120" value="60" />
          </div>
          <div class="field">
            <label for="shape-scale">Shape Scale</label>
            <input id="shape-scale" type="range" min="6" max="36" value="16" />
          </div>
          <div class="field">
            <label for="rotation-variance">Rotation Variance</label>
            <input id="rotation-variance" type="range" min="0" max="1" step="0.01" value="0.2" />
          </div>
          <div class="field">
            <label for="opacity">Motif Opacity</label>
            <input id="opacity" type="range" min="0.05" max="0.6" step="0.01" value="0.25" />
          </div>
          <div class="field">
            <label for="strict-swiss">Strict Swiss Mode</label>
            <label class="switch">
              <input id="strict-swiss" type="checkbox" />
              <span class="slider"></span>
            </label>
          </div>
          <div class="field">
            <label for="icon-style">Icon Style</label>
            <select id="icon-style">
              <option value="stroke" selected>Stroke Icons</option>
              <option value="filled">Filled Icons</option>
            </select>
          </div>
        </div>

        <div class="section">
          <h2>Text &amp; Export</h2>
          <div class="field">
            <label for="font-header">Header Font</label>
            <select id="font-header"></select>
          </div>
          <div class="field">
            <label for="font-title">Title Font</label>
            <select id="font-title"></select>
          </div>
          <div class="field">
            <label for="font-subheader">Subheader Font</label>
            <select id="font-subheader"></select>
          </div>
          <div class="field">
            <label for="text-color">Text Color</label>
            <input id="text-color" type="color" value="#f2f2f2" />
          </div>
          <div class="field">
            <label for="title-width">Max Title Width (%)</label>
            <input id="title-width" type="range" min="50" max="90" value="80" />
          </div>
          <div class="field">
            <label for="jpeg-quality">JPG Quality</label>
            <input id="jpeg-quality" type="range" min="0.6" max="1" step="0.01" value="0.92" />
          </div>
          <div class="bulk-actions">
            <button id="export-all-png" class="secondary">Export All PNG</button>
            <button id="export-all-jpg" class="secondary">Export All JPG</button>
          </div>
          <div id="series-list" class="series-list"></div>
        </div>
      </section>

      <section class="panel panel-preview">
        <div class="preview-header">
          <div>
            <h2>Live Preview</h2>
            <p id="preview-label">Cover 1</p>
          </div>
          <button id="export-current" class="primary">Export Current PNG</button>
        </div>
        <div class="canvas-shell">
          <canvas id="preview-canvas" width="1000" height="1000"></canvas>
        </div>
        <p class="hint">Preview renders at 1000×1000; exports render at 3000×3000.</p>
      </section>
    </main>

    <script type="module" src="src/main.js"></script>
  </body>
</html>
